// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// datasource db {
//   provider = "sqlite"
//   url      = "file:./forex.db"
// }

model Trade {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())

  trader    User     @relation(fields: [traderId], references: [id])
  traderId  Int

  currency  String
  direction String

  slPrice  Decimal
  tpPrice  Decimal?
  slPips   Decimal?
  tpPips   Decimal?
  RR       Decimal?

  accumulate Decimal?
  D1prev   Int?
  D18ema   Int?
  D1CLOSE   Int?
  H4PREV   Int?
  H450SMA   Int?
  H420EMA   Int?
  H1PREV   Int?
  M15PREV   Int?
  M15200EMA   Int?
  M1550SMA   Int?
  M1520SMA   Int?
  M15ENV   Int?
  H1ENV   Int?
  H4ENV   Int?

  maxPips  Decimal?
  profit Decimal?
  closed    Boolean  @default(false)
  closedAt  DateTime?
}

model User {
  id      Int      @id @default(autoincrement())
  email   String   @unique
  name    String?
  trades  Trade[]
  image   String?
}